<section class="page-header">
  <div class="container">
    <h2 class="page-header__title">Reset Password</h2>
    <ul class="alefox-breadcrumb list-unstyled">
      <li><a routerLink="/">Home</a></li>
      <li><span>Reset Password</span></li>
    </ul>
  </div>
</section>

<section class="login-page">
  <div class="container">
    <div class="login-page__wrap">
      <h3 class="login-page__wrap__title">Reset Your Password:</h3>
      <form class="login-page__form" [formGroup]="resetForm" (ngSubmit)="onSubmit()">

        <!-- Email -->
        <div class="login-page__form-input-box">
          <input type="email" placeholder="Enter your email *" formControlName="email">
          <div *ngIf="resetForm.get('email')?.invalid && resetForm.get('email')?.touched">
            <small class="text-danger" *ngIf="resetForm.get('email')?.errors?.['required']">Email is required.</small>
            <small class="text-danger" *ngIf="resetForm.get('email')?.errors?.['email']">Invalid email.</small>
          </div>
        </div>

        <!-- OTP -->
        <div class="login-page__form-input-box otp-input-group d-flex align-items-center">
          <label class="d-block">Enter OTP:</label>
          <div class="d-flex gap-2 justify-content-between">
          <input
            *ngFor="let ctrl of otpControls; let i = index"
            class="otp-input"
            type="number"
            id="otp{{ i }}"
            name="otp{{ i }}"
            maxlength="1"
            inputmode="numeric"
            pattern="[0-9]*"
            autocomplete="one-time-code"
            [formControlName]="'otp' + i"
            (input)="onOtpInput($event, i)"
            (keydown)="onOtpKeyDown($event, i)"
            [attr.data-index]="i"
          />
          </div>
        </div>

        <!-- New Password -->
        <div class="login-page__form-input-box">
          <input type="password" placeholder="New Password *" formControlName="password">
          <div *ngIf="resetForm.get('password')?.invalid && resetForm.get('password')?.touched">
            <small class="text-danger" *ngIf="resetForm.get('password')?.errors?.['required']">Password is required.</small>
            <small class="text-danger" *ngIf="resetForm.get('password')?.errors?.['minlength']">Min 8 characters.</small>
            <small class="text-danger" *ngIf="resetForm.get('password')?.errors?.['maxlength']">Max 15 characters.</small>
          </div>
        </div>

        <div class="d-flex justify-content-between">
          <button type="submit" class="alefox-btn">
            <span class="alefox-btn__item"></span>
            <span class="alefox-btn__item"></span>
            <span class="alefox-btn__item"></span>
            <span class="alefox-btn__item"></span>
            Reset Password
          </button>
          <a class="pt-3" class="hash-text cursor-pointer" routerLink="/login">Login</a>
        </div>

        
      </form>
    </div>
  </div>
</section>
